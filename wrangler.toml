name = "fuyugyo"
main = ".open-next/worker.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# D1データベースバインディング
[[d1_databases]]
binding = "DB"
database_name = "fuyugyo"
database_id = "8a945c24-aea6-49f5-aca3-92dcd4203949"
migrations_dir = "prisma/migrations_d1"

# 静的アセット設定
[assets]
directory = ".open-next/assets"
binding = "ASSETS"

# 環境変数（非機密情報のみ）
[vars]
NODE_ENV = "production"
NEXTAUTH_URL = "https://fuyugyo.ittooco.workers.dev"
JWT_EXPIRES_IN = "48h"
INVITE_DEFAULT_EXPIRES = "168h"

# Observability設定
[observability]
enabled = true
head_sampling_rate = 1.0
